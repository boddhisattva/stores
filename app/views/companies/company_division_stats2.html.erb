<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>amCharts examples</title>
  <!--<link rel="stylesheet" href="style.css" type="text/css">-->
  <!--<script src="../amcharts/amcharts.js" type="text/javascript"></script>-->
  <script type="text/javascript">
      var chart;

      var chartData = <%= @all_companies.to_json.html_safe %>
              //to_json.gsub(/\"country\"/, "country").gsub(/\"visits\"/, "visits")

      AmCharts.ready(function () {
          // SERIAL CHART
          chart = new AmCharts.AmSerialChart();
          chart.dataProvider = chartData;
          chart.categoryField = "country";
          chart.startDuration = 1;

          // AXES
          // category
          var categoryAxis = chart.categoryAxis;
          categoryAxis.labelRotation = 90;
          categoryAxis.gridPosition = "start";

          // value
          // in case you don't want to change default settings of value axis,
          // you don't need to create it, as one value axis is created automatically.

          // GRAPH
          var graph = new AmCharts.AmGraph();
          graph.valueField = "visits";
          graph.balloonText = "[[category]]: [[value]]";
          graph.type = "column";
          graph.lineAlpha = 0;
          graph.fillAlphas = 0.8;
          chart.addGraph(graph);

          chart.write("chartdiv");
      });
  </script>
</head>

<body>
<div id="chartdiv" style="width: 100%; height: 400px;"></div>
</body>

</html>